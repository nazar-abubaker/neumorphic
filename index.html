<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#F0F0F0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
</head>
<style>
    @import url("https://use.typekit.net/bny3zug.css");

    :root {
        --blue: #4D4F5C;
        --shadowActive: inset 2px 2px 5px #b8b9be, inset -3px -3px 7px #fff;
        --shadowDisabled: 6px 6px 12px #b8b9be,-6px -6px 12px #fff!important;
    }

    html, body {
        background:#F0F0F0;
        font-family: canada-type-gibson, sans-serif !important;
        font-weight: 400;
        font-style: normal;
    }
    
    .activeBox {
        background: #E6E6E6;
        padding:1rem 2rem;
        border-radius: 16px;
        /*box-shadow: inset 2px 2px 5px #b8b9be, inset -3px -3px 7px #fff;*/
    }

    .disabledBox {
        background: #F0F0F0;
        border-bottom:8px solid red;
        /*box-shadow:6px 6px 12px #b8b9be,-6px -6px 12px #fff!important;*/
        box-shadow:-6px -6px 12px #b8b9be;
        border-radius: 16px;
    }

    .disabledBox:before {
        content: "";
        box-shadow: --shadowDisabled;
        height: 100%;
        width: 100%;
        position: absolute;
        z-index: -1;
    }

    .disabledBox h3 {
        color: var(--blue);
        opacity: 0.5;
        font-size: 10px;
        font-weight: 400;
    }

    .disabledBox h1 {
        color:var(--blue);
        font-size: 16px;
        font-weight: 600;
    }

    .btn-primary {
        color:white;
        background:#3775C5;
        border:0px;
        padding:1rem 1rem;
        border-radius: 80px;
        width:100%;
        /*box-shadow: 0px 10px 20px rgb(55, 117, 197,0.4);*/
        font-weight: 600;
    }
    .btn {
        transition: none!important;
    }

    .container {
        width:90%;
    }

</style>
<body>
    <!-- Start Demo Screen -->
    <div class="container vh-100" id="demo-div">
        <div class="row h-100">
            <div class="col-12 h-100">
                <div class="d-flex flex-row h-100">
                    <div class="m-auto">
                        <h1>Gyroscope Shadow</h1>
                        <p class="lead mb-4">This demo requires the use of your gyroscope sensor on your device to alter the shadow of the cards.</p>
                        <a class="btn btn-primary btn-lg" id="start_demo" href="#" role="button">Start the demo</a>    
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Shadow prototype -->
    <div class="container" id="container">
        <div class="row">
            <div class="col-12">
                <div class="d-flex flex-row align-items-center py-3 mb-4" style="border-bottom:1px solid rgb(50, 53, 66, .25);">
                    <img class="me-2" src="img/arrow.png">
                    <h5 class="mb-0">Extras</h5>
                </div>
                <div class="disabledBox mb-5 p-4" style="border-color: #3776C5" id="shadow1">
                    <h3>Parking Passes</h3>
                    <h1 class="mb-0">Al Dana Amphitheatre Parking</h1>
                </div>
                <div class="disabledBox mb-5 p-4" style="border-color: #5E35B1" id="shadow2">
                    <h3>Hotel</h3>
                    <h1 class="mb-4">Sofitel</h1>
                    <h3>Package</h3>
                    <div class="d-flex flex-row">
                        <h1 class="me-auto mb-0">Twin Luxury Room</h1>
                        <p class="mb-0" style="color: #4D4F5C">BD 104</p>
                    </div>
                </div>
                <div class="activeBox mb-4 p-4" id="shadow3">
                    <h5 class="mb-4">Recieve Tickets</h5>
                    <p class="mb-0">Email will be sent to:</p>
                    <div class="d-flex flex-row mb-3">
                        <h6 class="me-3">test@gmail.com</h6>
                        <a href="#" class="text-decoration-none">Change</a>
                    </div>
                    <div class="d-flex flex-row align-items-center py-3" style="border-top:2px solid rgba(50, 53, 66, 0.1)">
                        <div class="form-check me-auto">
                            <input class="form-check-input" type="checkbox" value="" id="whatsapp">
                            <label class="form-check-label" for="whatsapp">
                               via Whatsapp
                            </label>
                        </div>
                          <p class="mb-0">BD 0.100</p>
                    </div>
                    <div class="d-flex flex-row align-items-center py-3" style="border-top:2px solid rgba(50, 53, 66, 0.1)">
                        <div class="form-check me-auto">
                            <input class="form-check-input" type="checkbox" value="" id="sms">
                            <label class="form-check-label" for="sms">
                                via SMS
                            </label>
                        </div>
                          <p class="mb-0">BD 0.100</p>
                    </div>
                    <button class="btn btn-primary" id="shadow4">CONTINUE</button>
                </div>
            </div>
        </div>
    </div>

<script>

document.getElementById('container').style.display = 'none';

/*
let activeBox = Array.from(
    document.getElementsByClassName('activeBox')
);

let disabledBox = Array.from(
    document.getElementsByClassName('disabledBox')
);
let btnPrimary = Array.from(
    document.getElementsByClassName('btn-primary')
);


activeBox.forEach(ab => {
    ab.style.boxShadow = "inset 2px 2px 5px #b8b9be, inset -3px -3px 7px #fff"
})
disabledBox.forEach(db => {
    db.style.boxShadow = "6px 6px 12px #b8b9be,-6px -6px 12px #fff!important"
})
btnPrimary.forEach(btn => {
    btn.style.boxShadow = "0px 10px 20px rgb(55, 117, 197,0.4)"
})
*/

function handleOrientation(event) {
  document.getElementById('shadow1').style.boxShadow = event.gamma/3.5 + 'px ' + event.beta/3.5 + 'px 12px #b8b9be,' + '-' + event.gamma/3.5 + 'px ' + '-' + event.beta/3.5 + 'px 12px #fff' ;
  document.getElementById('shadow2').style.boxShadow = event.gamma/3.5 + 'px ' + event.beta/3.5 + 'px 12px #b8b9be,' + '-' + event.gamma/3.5 + 'px ' + '-' + event.beta/3.5 + 'px 12px #fff' ;
  document.getElementById('shadow3').style.boxShadow = 'inset ' + event.gamma/8 + 'px ' + event.beta/8 + 'px 5px #b8b9be,' + 'inset -' + event.gamma/8 + 'px ' + '-' + event.beta/8 + 'px 7px #fff' ;
  document.getElementById('shadow4').style.boxShadow = event.gamma/3.5 + 'px ' + event.beta/3.5 + 'px 12px rgba(56, 114, 199, 0.5)' ;

  incrementEventCount();
}

function incrementEventCount(){
  let eventCount = parseInt(counterElement.innerHTML)
  counterElement.innerHTML = eventCount + 1;
}

function updateFieldIfNotNull(fieldName, value, precision=10){
  if (value != null)
    document.getElementById(fieldName).innerHTML = value.toFixed(precision);
}

function handleMotion(event) {
  incrementEventCount();
}

let is_running = false;
let demo_button = document.getElementById("start_demo");
demo_button.onclick = function(e) {
  e.preventDefault();
  document.getElementById('demo-div').style.display = 'none';
  document.getElementById('container').style.display = 'block';

  
  // Request permission for iOS 13+ devices
  if (
    DeviceMotionEvent &&
    typeof DeviceMotionEvent.requestPermission === "function"
  ) {
    DeviceMotionEvent.requestPermission();
  }
  
  if (is_running){
    window.removeEventListener("devicemotion", handleMotion);
    window.removeEventListener("deviceorientation", handleOrientation);
    demo_button.innerHTML = "Start demo";
    is_running = false;
  }else{
    window.addEventListener("devicemotion", handleMotion);
    window.addEventListener("deviceorientation", handleOrientation);
    document.getElementById("start_demo").innerHTML = "Stop demo";
    is_running = true;
  }
};

    </script>
</body>
</html>